{"ast":null,"code":"export class API {\n  constructor(id, path) {\n    this.mockedStatus = localStorage.getItem('mockedStatus');\n    this.apiUrl = path === undefined ? `http://localhost:8080/user/${id}` : `http://localhost:8080/user/${id}/${path}`;\n    this.mockedUrl = path === undefined ? `../../data/${id}/datas.json` : `../../data/${id}/${path}/datas.json`;\n    this.url = this.mockedStatus === 'true' ? this.mockedUrl : this.apiUrl;\n  }\n\n  getDatas() {\n    const fetchData = () => {\n      return fetch(this.url).then(response => response.json()).then(data => {\n        return {\n          datas: data.data,\n          loading: false,\n          error: false,\n          errorMessage: ''\n        };\n      }).catch(error => {\n        this.loading = false;\n        this.error = true;\n        this.errorMessage = error;\n        this.datas.push(this.datas, this.loading, this.error, this.errorMessage);\n      });\n    };\n\n    fetchData();\n  }\n\n}","map":{"version":3,"names":["API","constructor","id","path","mockedStatus","localStorage","getItem","apiUrl","undefined","mockedUrl","url","getDatas","fetchData","fetch","then","response","json","data","datas","loading","error","errorMessage","catch","push"],"sources":["/Users/sebastien/Sebbe's Cloud/School/OpenClassRooms/2 - OCR - Software Developper - JS & React/Projet 12 (60h)/P12 - Mission/00Code/frontend/src/API/api.js"],"sourcesContent":["export class API {\n\tconstructor(id, path) {\n\t\tthis.mockedStatus = localStorage.getItem('mockedStatus');\n\t\tthis.apiUrl =\n\t\t\tpath === undefined ? `http://localhost:8080/user/${id}` : `http://localhost:8080/user/${id}/${path}`;\n\t\tthis.mockedUrl = path === undefined ? `../../data/${id}/datas.json` : `../../data/${id}/${path}/datas.json`;\n\t\tthis.url = this.mockedStatus === 'true' ? this.mockedUrl : this.apiUrl;\n\t}\n\n\tgetDatas() {\n\t\tconst fetchData = () => {\n\t\t\treturn fetch(this.url)\n\t\t\t\t.then((response) => response.json())\n\t\t\t\t.then((data) => {\n\t\t\t\t\treturn {\n\t\t\t\t\t\tdatas: data.data,\n\t\t\t\t\t\tloading: false,\n\t\t\t\t\t\terror: false,\n\t\t\t\t\t\terrorMessage: '',\n\t\t\t\t\t};\n\t\t\t\t})\n\t\t\t\t.catch((error) => {\n\t\t\t\t\tthis.loading = false;\n\t\t\t\t\tthis.error = true;\n\t\t\t\t\tthis.errorMessage = error;\n\t\t\t\t\tthis.datas.push(this.datas, this.loading, this.error, this.errorMessage);\n\t\t\t\t});\n\t\t};\n\t\tfetchData();\n\t}\n}\n"],"mappings":"AAAA,OAAO,MAAMA,GAAN,CAAU;EAChBC,WAAW,CAACC,EAAD,EAAKC,IAAL,EAAW;IACrB,KAAKC,YAAL,GAAoBC,YAAY,CAACC,OAAb,CAAqB,cAArB,CAApB;IACA,KAAKC,MAAL,GACCJ,IAAI,KAAKK,SAAT,GAAsB,8BAA6BN,EAAG,EAAtD,GAA2D,8BAA6BA,EAAG,IAAGC,IAAK,EADpG;IAEA,KAAKM,SAAL,GAAiBN,IAAI,KAAKK,SAAT,GAAsB,cAAaN,EAAG,aAAtC,GAAsD,cAAaA,EAAG,IAAGC,IAAK,aAA/F;IACA,KAAKO,GAAL,GAAW,KAAKN,YAAL,KAAsB,MAAtB,GAA+B,KAAKK,SAApC,GAAgD,KAAKF,MAAhE;EACA;;EAEDI,QAAQ,GAAG;IACV,MAAMC,SAAS,GAAG,MAAM;MACvB,OAAOC,KAAK,CAAC,KAAKH,GAAN,CAAL,CACLI,IADK,CACCC,QAAD,IAAcA,QAAQ,CAACC,IAAT,EADd,EAELF,IAFK,CAECG,IAAD,IAAU;QACf,OAAO;UACNC,KAAK,EAAED,IAAI,CAACA,IADN;UAENE,OAAO,EAAE,KAFH;UAGNC,KAAK,EAAE,KAHD;UAINC,YAAY,EAAE;QAJR,CAAP;MAMA,CATK,EAULC,KAVK,CAUEF,KAAD,IAAW;QACjB,KAAKD,OAAL,GAAe,KAAf;QACA,KAAKC,KAAL,GAAa,IAAb;QACA,KAAKC,YAAL,GAAoBD,KAApB;QACA,KAAKF,KAAL,CAAWK,IAAX,CAAgB,KAAKL,KAArB,EAA4B,KAAKC,OAAjC,EAA0C,KAAKC,KAA/C,EAAsD,KAAKC,YAA3D;MACA,CAfK,CAAP;IAgBA,CAjBD;;IAkBAT,SAAS;EACT;;AA7Be"},"metadata":{},"sourceType":"module"}